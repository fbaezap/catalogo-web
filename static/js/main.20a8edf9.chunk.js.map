{"version":3,"sources":["theme.ts","utils/formatToCurrency.ts","components/Products.tsx","hooks/useProductRemove.ts","components/ProductSearch.tsx","pages/ProductsPage.tsx","utils/isPalindrome.ts","components/ProductRequest.tsx","components/ProductForm.tsx","pages/ProductPage.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["theme","createMuiTheme","palette","primary","main","secondary","formatToCurrency","amount","toString","replace","useStyles","makeStyles","card","height","display","flexDirection","cardMedia","paddingTop","cardContent","flexGrow","lineThrough","textDecoration","Products","palindrome","products","onRefresh","classes","React","useState","loading","setLoading","setData","error","setError","request","useCallback","id","Axios","delete","then","response","data","catch","finally","useProductRemove","deleting","remove","Grid","container","spacing","map","product","item","xs","sm","md","Card","className","CardMedia","image","title","name","CardContent","Typography","gutterBottom","variant","component","description","clsx","price","CardActions","Button","Link","to","_id","size","color","disabled","onClick","ProductSearch","onSubmit","form","useForm","mode","defaultValues","type","handleSubmit","alignItems","TextField","inputRef","register","label","select","SelectProps","native","value","Search","cardGrid","paddingBottom","ProductsPage","search","setSearch","setPalindrome","setProducts","loadData","params","undefined","length","get","str","split","reverse","join","useEffect","Fragment","AppBar","position","Toolbar","Container","maxWidth","Box","marginBottom","values","Alert","severity","paragraph","textAlign","CircularProgress","ProductRequest","onResult","children","method","url","ProductForm","fullWidth","required","valueAsNumber","multiline","formState","isValid","menuButton","marginRight","ProductPage","useParams","Boolean","setDefaultValues","e","IconButton","edge","aria-label","ChevronLeft","noWrap","d","console","log","App","ThemeProvider","CssBaseline","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","defaults","baseURL","process","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.20a8edf9.chunk.js","sourcesContent":["import { createMuiTheme } from \"@material-ui/core/styles\";\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#582a7a\",\n    },\n    secondary: {\n      main: \"#c01414\",\n    },\n  },\n});\n\nexport default theme;\n","export default function formatToCurrency(amount: number) {\n  return \"$\" + amount.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\n}\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport { Box, CircularProgress } from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\nimport useProductRemove from \"../hooks/useProductRemove\";\nimport formatToCurrency from \"../utils/formatToCurrency\";\nimport clsx from \"clsx\";\n\nconst useStyles = makeStyles((theme) => ({\n  card: {\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n  cardMedia: {\n    paddingTop: \"56.25%\", // 16:9\n  },\n  cardContent: {\n    flexGrow: 1,\n  },\n  lineThrough: {\n    textDecoration: \"line-through\",\n  },\n}));\n\nexport interface Product {\n  _id: string;\n  id: string;\n  brand: string;\n  image?: string;\n  name: string;\n  description: string;\n  price: number;\n}\n\nexport default function Products({\n  palindrome,\n  products,\n  onRefresh,\n}: {\n  palindrome?: boolean;\n  products: Product[];\n  onRefresh: () => void;\n}) {\n  const classes = useStyles();\n  const { loading: deleting, request: remove } = useProductRemove();\n  return (\n    <Grid container spacing={1}>\n      {products.map((product) => (\n        <Grid item key={product._id} xs={12} sm={6} md={4}>\n          <Card className={classes.card}>\n            <CardMedia\n              className={classes.cardMedia}\n              image={product.image ?? \"https://source.unsplash.com/random\"}\n              title={product.name}\n            />\n            <CardContent className={classes.cardContent}>\n              <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                {product.name}\n              </Typography>\n              <Typography>{product.id}</Typography>\n              <Typography>{product.description}</Typography>\n              <Typography\n                className={clsx({ [classes.lineThrough]: palindrome })}\n              >\n                {formatToCurrency(product.price)}\n              </Typography>\n              {palindrome && (\n                <Typography>{formatToCurrency(product.price * 0.8)}</Typography>\n              )}\n            </CardContent>\n            <CardActions>\n              <Button\n                component={Link}\n                to={`/products/edit/${product._id}`}\n                size=\"small\"\n                color=\"primary\"\n                disabled={deleting}\n              >\n                Editar\n              </Button>\n              <Button\n                size=\"small\"\n                color=\"secondary\"\n                onClick={() => remove(product._id).then(() => onRefresh())}\n                disabled={deleting}\n              >\n                Borrar\n              </Button>\n            </CardActions>\n          </Card>\n        </Grid>\n      ))}\n    </Grid>\n  );\n}\n","import Axios from \"axios\";\nimport React from \"react\";\n\nexport default function useProductRemove() {\n  const [loading, setLoading] = React.useState(false);\n  const [data, setData] = React.useState();\n  const [error, setError] = React.useState();\n  const request = React.useCallback((id: string) => {\n    setLoading(true);\n    return Axios.delete(`products/${id}`)\n      .then((response) => setData(response.data))\n      .catch(setError)\n      .finally(() => setLoading(false));\n  }, []);\n  return { loading, error, request };\n}\n","import { Button, Grid, TextField } from \"@material-ui/core\";\nimport { Search } from \"@material-ui/icons\";\nimport React from \"react\";\nimport { useForm } from \"react-hook-form\";\n\ninterface Values {\n  search: string;\n  type: \"id\" | \"other\";\n}\n\nexport function ProductSearch({\n  onSubmit,\n}: {\n  onSubmit: (values: Values) => void;\n}) {\n  const form = useForm<Values>({\n    mode: \"all\",\n    defaultValues: {\n      type: \"other\",\n    },\n  });\n  return (\n    <form onSubmit={form.handleSubmit(onSubmit)}>\n      <Grid container spacing={1} alignItems=\"center\">\n        <Grid item>\n          <TextField\n            inputRef={form.register()}\n            name=\"search\"\n            id=\"search\"\n            label=\"Buscar\"\n            variant=\"filled\"\n          />\n        </Grid>\n        <Grid item>\n          <TextField\n            inputRef={form.register()}\n            select\n            name=\"type\"\n            id=\"type\"\n            label=\"Buscar por\"\n            variant=\"filled\"\n            SelectProps={{ native: true }}\n          >\n            <option value=\"other\">Marca y descripción</option>\n            <option value=\"id\">ID</option>\n          </TextField>\n        </Grid>\n        <Grid item>\n          <Button type=\"submit\" variant=\"contained\" color=\"primary\">\n            <Search />\n          </Button>\n        </Grid>\n      </Grid>\n    </form>\n  );\n}\n","import Button from \"@material-ui/core/Button\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React from \"react\";\nimport Products, { Product } from \"../components/Products\";\nimport Axios from \"axios\";\nimport {\n  Box,\n  CircularProgress,\n  Container,\n  Grid,\n  IconButton,\n  TextField,\n} from \"@material-ui/core\";\nimport { Alert } from \"@material-ui/lab\";\nimport { Link } from \"react-router-dom\";\nimport { ProductSearch } from \"../components/ProductSearch\";\nimport isPalindrome from \"../utils/isPalindrome\";\n\nconst useStyles = makeStyles((theme) => ({\n  title: {\n    flexGrow: 1,\n  },\n  cardGrid: {\n    paddingTop: theme.spacing(8),\n    paddingBottom: theme.spacing(8),\n  },\n}));\n\nexport default function ProductsPage() {\n  const classes = useStyles();\n\n  const [search, setSearch] = React.useState<string>();\n  const [palindrome, setPalindrome] = React.useState<boolean>(false);\n  const [products, setProducts] = React.useState<Product[]>();\n  const [error, setError] = React.useState<\"SEARCH\" | \"UNKNOWN\">();\n  const loadData = React.useCallback(\n    (params?: { search: string; type: string }) => {\n      setError(undefined);\n      if (params && params.type === \"other\" && params.search.length < 3) {\n        setError(\"SEARCH\");\n        return;\n      }\n      Axios.get(\"products\", {\n        params,\n      })\n        .then((response) => {\n          setSearch(params?.search ?? undefined);\n          setPalindrome(params?.search ? isPalindrome(params.search) : false);\n          setProducts(response.data);\n        })\n        .catch((error) => {\n          setError(\"UNKNOWN\");\n        });\n    },\n    []\n  );\n  React.useEffect(() => {\n    loadData();\n  }, []);\n  return (\n    <React.Fragment>\n      <AppBar position=\"relative\">\n        <Toolbar>\n          <Typography variant=\"h6\" className={classes.title}>\n            Productos\n          </Typography>\n          <Button color=\"inherit\" component={Link} to=\"/products/create\">\n            Crear\n          </Button>\n        </Toolbar>\n      </AppBar>\n      <main>\n        <Container className={classes.cardGrid} maxWidth=\"md\">\n          <Box marginBottom={2}>\n            <ProductSearch\n              onSubmit={(values) =>\n                loadData(values.search && values.type ? values : undefined)\n              }\n            />\n          </Box>\n          {error && (\n            <Box marginBottom={2}>\n              <Alert severity=\"error\">\n                {error === \"SEARCH\"\n                  ? \"Si buscas por nombre deben haber al menos 3 caracteres\"\n                  : \"Ha ocurrido un error\"}\n              </Alert>\n            </Box>\n          )}\n          {products ? (\n            <>\n              <Typography paragraph>\n                {search\n                  ? `Mostrando resultados de \"${search}\"`\n                  : \"Mostrando todos los resultados\"}\n              </Typography>\n              {products.length ? (\n                <Products\n                  products={products}\n                  onRefresh={loadData}\n                  palindrome={palindrome}\n                />\n              ) : (\n                <Typography>No hay productos</Typography>\n              )}\n            </>\n          ) : (\n            <Box textAlign=\"center\">\n              <CircularProgress />\n            </Box>\n          )}\n        </Container>\n      </main>\n    </React.Fragment>\n  );\n}\n","export default function isPalindrome(str: string) {\n  return str.split(\"\").reverse().join(\"\") === str;\n}\n","import Axios from \"axios\";\nimport React from \"react\";\nimport { useForm, UseFormMethods } from \"react-hook-form\";\n\nexport interface Values {\n  brand: string;\n  name: string;\n  description: string;\n  price: number;\n}\n\nexport interface ProductRequestProps {\n  id?: string;\n  onResult: (data?: unknown, error?: any) => void;\n  children: (\n    onSubmit: (values: Values) => void,\n    loading: boolean\n  ) => JSX.Element;\n}\n\nexport default function ProductRequest({\n  id,\n  onResult,\n  children,\n}: ProductRequestProps) {\n  const [loading, setLoading] = React.useState(false);\n  const onSubmit = React.useCallback(\n    (values: Values) => {\n      setLoading(true);\n      Axios.request({\n        method: id ? \"PUT\" : \"POST\",\n        url: `products/${id ?? \"\"}`,\n        data: values,\n      })\n        .then((response) => onResult(response.data))\n        .catch((error) => onResult(undefined, error))\n        .finally(() => setLoading(false));\n    },\n    [id]\n  );\n\n  return children(onSubmit, loading);\n}\n","import { Button, Grid, TextField } from \"@material-ui/core\";\nimport Axios from \"axios\";\nimport React from \"react\";\nimport { useForm, UseFormMethods } from \"react-hook-form\";\nimport ProductRequest from \"./ProductRequest\";\n\nexport interface Values {\n  id: string;\n  brand: string;\n  name: string;\n  description: string;\n  price: number;\n  image: string;\n}\n\nexport interface ProductFormProps {\n  id?: string;\n  defaultValues?: Values;\n  onResult: (data?: unknown, error?: any) => void;\n}\n\nexport default function ProductForm({\n  id,\n  defaultValues,\n  onResult,\n}: ProductFormProps) {\n  const form = useForm<Values>({\n    mode: \"all\",\n    defaultValues,\n  });\n\n  return (\n    <ProductRequest id={id} onResult={onResult}>\n      {(onSubmit, loading) => (\n        <form onSubmit={form.handleSubmit(onSubmit)}>\n          <Grid container spacing={1}>\n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                required\n                inputRef={form.register({\n                  required: true,\n                })}\n                name=\"id\"\n                id=\"id\"\n                label=\"ID\"\n                variant=\"filled\"\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                required\n                inputRef={form.register({\n                  required: true,\n                })}\n                name=\"name\"\n                id=\"name\"\n                label=\"Nombre\"\n                variant=\"filled\"\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                required\n                inputRef={form.register({\n                  required: true,\n                })}\n                name=\"brand\"\n                id=\"brand\"\n                label=\"Marca\"\n                variant=\"filled\"\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                required\n                inputRef={form.register({\n                  required: true,\n                  valueAsNumber: true,\n                })}\n                name=\"price\"\n                id=\"price\"\n                label=\"Precio\"\n                variant=\"filled\"\n                type=\"number\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                fullWidth\n                required\n                inputRef={form.register({\n                  required: true,\n                })}\n                name=\"description\"\n                id=\"description\"\n                label=\"Descripción\"\n                variant=\"filled\"\n                multiline\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                fullWidth\n                required\n                inputRef={form.register()}\n                name=\"image\"\n                id=\"image\"\n                label=\"URL Image\"\n                variant=\"filled\"\n                type=\"url\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <Button\n                type=\"submit\"\n                color=\"primary\"\n                variant=\"contained\"\n                disabled={!form.formState.isValid || loading}\n              >\n                Guardar\n              </Button>\n            </Grid>\n          </Grid>\n        </form>\n      )}\n    </ProductRequest>\n  );\n}\n","import Button from \"@material-ui/core/Button\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React from \"react\";\nimport {\n  Box,\n  CircularProgress,\n  Container,\n  Grid,\n  IconButton,\n  TextField,\n} from \"@material-ui/core\";\nimport ProductForm, { Values } from \"../components/ProductForm\";\nimport { ChevronLeft } from \"@material-ui/icons\";\nimport { Link, useParams } from \"react-router-dom\";\nimport Axios from \"axios\";\n\nconst useStyles = makeStyles((theme) => ({\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  cardGrid: {\n    paddingTop: theme.spacing(8),\n    paddingBottom: theme.spacing(8),\n  },\n}));\n\nexport default function ProductPage() {\n  const classes = useStyles();\n  const { id } = useParams<{ id?: string }>();\n  const [loading, setLoading] = React.useState(Boolean(id));\n  const [defaultValues, setDefaultValues] = React.useState<Values>();\n  const [error, setError] = React.useState();\n  React.useEffect(() => {\n    if (id) {\n      setLoading(true);\n      Axios.get(`products/${id}`)\n        .then((response) => setDefaultValues(response.data))\n        .catch((e) => setError(e))\n        .finally(() => setLoading(false));\n    }\n  }, [id]);\n  return (\n    <React.Fragment>\n      <AppBar position=\"relative\">\n        <Toolbar>\n          <IconButton\n            edge=\"start\"\n            className={classes.menuButton}\n            color=\"inherit\"\n            aria-label=\"menu\"\n            component={Link}\n            to=\"/products\"\n          >\n            <ChevronLeft />\n          </IconButton>\n          <Typography variant=\"h6\" color=\"inherit\" noWrap>\n            Crear Producto\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <main>\n        <Container className={classes.cardGrid} maxWidth=\"md\">\n          {!loading ? (\n            <ProductForm\n              id={id}\n              defaultValues={defaultValues}\n              onResult={(d) => console.log(d)}\n            />\n          ) : (\n            <Box textAlign=\"center\">\n              <CircularProgress />\n            </Box>\n          )}\n        </Container>\n      </main>\n    </React.Fragment>\n  );\n}\n","import React from \"react\";\nimport \"./App.css\";\nimport { CssBaseline, ThemeProvider } from \"@material-ui/core\";\nimport theme from \"./theme\";\nimport ProductsPage from \"./pages/ProductsPage\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nimport ProductPage from \"./pages/ProductPage\";\n\nfunction App() {\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <Router>\n        <Switch>\n          <Route path=\"/products/create\">\n            <ProductPage />\n          </Route>\n          <Route path=\"/products/edit/:id\">\n            <ProductPage />\n          </Route>\n          <Route path=\"/products\">\n            <ProductsPage />\n          </Route>\n          <Redirect to=\"/products\" />\n        </Switch>\n      </Router>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport Axios from \"axios\";\n\nAxios.defaults.baseURL = process.env.REACT_APP_API;\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}